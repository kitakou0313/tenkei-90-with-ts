# 問題リンク
- https://atcoder.jp/contests/joi2008ho/tasks/joi2008ho_c

## 考察
- 制約
    - N <= 10^3
    - M <= 2*10^8
    - Pi <= 10^8
        - 1 <= i <= N
- 問題の要約
    - Piから0 ~ 4個要素を重複を許して選びそれらの合計を考える。この時合計がM以下となる要素の選び方のうち最大値は何か
- 考察
    - 全探索
        - 全てのPiの選び方を全探索
            - Bit全探索でN個の選び方を全探索する
        - O(N^4)でTLE
    - 2分探索
        - 0 ~ Mの範囲の値について、合計がその値になる選び方が存在するか探索する
            - 0 ~ Mの値ごとにNの組み合わせを見ることになり厳しい
            - ある得点以下となる組み合わせを判定させるのは無理
    - （解答みた）半分全列挙 + 二分探索
        - 0を探索対象に足し、重複ありで4つ要素を選ぶ問題にする
        - a + b + c + dを考える
            - O(N^4)でTLE
        - 二つまとめて A + Bを考える問題にする
            - O(N^2)でPiから二つ選んだ時の全組み合わせをまとめられる
            - SはN^2分の長さ
        - A + Bの合計のうち、M以下で最大のもの の探索
        - Aを固定し、M - Bのうち最大のものの探索に変換する
            - Sに対する二分探索

## メモ
- 解としてあり得る範囲を考え、それが実現できるか探索する
- ある値の和を考えている+求めたい値が決まっているので、片方を固定する方法を考える
    - 繰り返している処理を削減する考え方からいけた
- 問題と具体例を正確に読む
    - 重複ありなのに気づけなかった
- 場合分けを減らす  
    - 常に４つ選ぶ問題にすることで楽をする

## ToDo
- 半分全列挙について調べる
    - https://drken1215.hatenablog.com/entry/2020/12/04/035454

## 解説